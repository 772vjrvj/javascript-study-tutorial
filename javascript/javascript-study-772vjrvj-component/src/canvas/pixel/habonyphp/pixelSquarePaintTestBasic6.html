<style>canvas { border: 1px solid black; }</style>
<canvas id="mycanvas"></canvas>
<canvas id="mycanvas2"></canvas>

<script type="text/javascript">
var canvas = document.getElementById('mycanvas');
var canvas2 = document.getElementById('mycanvas2');
canvas.width = canvas.height = 300;
canvas2.width = canvas2.height = 300;
var context = canvas.getContext('2d');
var context2 = canvas2.getContext('2d');

var img = new Image();
img.onload = function(){
  context.drawImage(img, 10, 30, canvas.width, 250);
  var iData = context.getImageData(0, 0, canvas.width, canvas.height);

// 투명도 필터 적용.
// for(var i=3; i < iData.data.length-4; i+=4) {
//   iData.data[i] = iData.data[i]/2;
// }

// // 네거티브 필터 적용
// for(var i=0; i < iData.data.length - 4; i+=4) {
//   // 빨간 색상을 반전
//   iData.data[i] = 255-iData.data[i];
//   // 녹색 색상을 반전
//   iData.data[i+1] = 255-iData.data[i+1];
//   // 파란 색상을 반전
//   iData.data[i+2] = 255-iData.data[i+2];
// }

// // 흑백 필터 적용
// for(var i=0; i < iData.data.length - 4; i+=4) {
//   // 픽셀 값 평균
//   average = ( iData.data[i] + iData.data[i+1] + iData.data[i+2] ) / 3;
//   // 평균 값 저장
//   iData.data[i] = iData.data[i+1] = iData.data[i+2] = average;
// }


// 이미지를 원하는 영역만 잘라서 다른 캔버스에 붙여 넣음
context2.putImageData(iData, 0, 0, 50, 0, 200, 300);
}
img.src = 'img/8star.png';
</script>