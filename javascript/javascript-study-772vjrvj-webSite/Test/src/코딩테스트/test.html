<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <script>
        //https://drcode-devblog.tistory.com/262
// 상호 평가 - 네이버 코딩테스트 기출문제

function scores(initScores){
  
  let result = "";


  if(isScores(initScores)){
    let scores = [...initScores];
    for (let index = 0; index < scores.length; index++) {
      const subScores = scores[index];
      if(isScores(subScores)){
        const min = Math.min(...subScores);
        const max = Math.max(...subScores);
        let ave = 0;


        if(subScores[index] === min){
          const filteritems =subScores.filter(item => item === min);

          if(filteritems.length >= 2){
            ave = average([...subScores]);

          }else{
            subScores.splice(index, 1);
            ave = average([...subScores]);
          }

        }else if(subScores[index] === max){

          const filteritems =subScores.filter(item => item === max);
          if(filteritems.length >= 2){
            ave = average([...subScores]);
          }else{
            subScores.splice(index, 1);
            ave = average([...subScores]);
          }

        }else{
            ave = average([...subScores]);
        }

        if(ave >= 90){
            result = result + "A";
        }else if(ave < 90 && ave >=80){
            result = result + "B";
        }else if(ave < 80 && ave >=70){
            result = result + "C";
        }else if(ave < 70 && ave >=50){
            result = result + "D";
        }else if(ave < 50 && ave >= 0){
            result = result + "F";
        }

      }else{
        return "error"
      }
    }
  }else{
    return "error"
  }

  function isScores(arr){
    if(Array.isArray(arr) === true && arr.length >= 0 && arr.length <=10){
      return true;
    }else{
      return false;
    }
  }

  function average(arr){
    const sum = arr.reduce((sum, cur) => sum + cur,0);
    const average = sum/arr.length;
    return average;
  }

  return result;
}
console.log("ss");
console.log(scores([[50,90],[50,87]]));
console.log(scores([[70,49,90],[68,50,38],[73,31,100]]));
console.log(scores([[100,90,98,88,65],[50,45,99,85,77],[47,88,95,80,67],[61,57,100,80,65],[24,90,94,75,65]]));
console.log(scores([[100, 50, 47, 61, 24],[90,45, 88, 57, 90],[98,99,95,100,94],[88,85,80,80,75],[65,77,67,65,65]]));



    </script>
</head>
<body>
    
</body>
</html>